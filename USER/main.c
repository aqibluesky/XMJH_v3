#include "bsp_init.h"

#include "music_player.h"
#include "net_link.h"
#include "voice_recorder.h"


char pText[TXT_LEN*3];//用于存放识别出的UTF-8格式的编码一个中文字符占用三个字节

char GBQQ[] = {
	0xE5, 0x91, 0x8A, 0xE7, 0x99, 0xBD, 0xE6, 0xB0, 0x94, 0xE7, 0x90, 0x83, 0xEF, 0xBC, 0x8C,
	0xE5, 0x91, 0x8A, 0xE7, 0x99, 0xBD, 0xE6, 0xB0, 0x94, 0xE7, 0x90, 0x83, 0xEF, 0xBC, 0x8C,
	0xE5, 0x91, 0x8A, 0xE7, 0x99, 0xBD, 0xE6, 0xB0, 0x94, 0xE7, 0x90, 0x83, 0xEF, 0xBC, 0x8C,
	0xE5, 0x91, 0x8A, 0xE7, 0x99, 0xBD, 0xE6, 0xB0, 0x94, 0xE7, 0x90, 0x83, 0xEF, 0xBC, 0x8C,
	0xE5, 0x91, 0x8A, 0xE7, 0x99, 0xBD, 0xE6, 0xB0, 0x94, 0xE7, 0x90, 0x83, 0xEF, 0xBC, 0x8C,
};

int main(void)
{
 	BSP_Init();									//初始化硬件
	Wifi_Connect();
	
//	Get_Weather(pText);
//	if(Text2Audio(pText))			//调用文字转语音API
//	{
//		Wifi_Connect();
//	}
//	MP3_Play("0:/Iot_Box/temp/voc");//将识别结果复述一遍
	
	while(1)
	{
		memset(pText,0,sizeof(pText));
		//Voice_Record();						//开始录音
		Audio2Text(pText);
		
		//E5 91 8A E7 99 BD E6 B0 94 E7 90 83 EF BC 8C告白气球
		if(strlen(GBQQ) >= 9)
		{
//			Text2Audio(GBQQ);			//调用文字转语音API
//			MP3_Play("0:/Iot_Box/temp/voc");//将识别结果复述一遍
			//Music_Found(pText);			//寻找有无这个mp3文件，有就播放
			//Device_Config(pText);		//寻找有无有无对应指令，根据识别结果配置设备
		}
	}
} 
